[alias]
	# Branch and checkout
	br = branch
	co = checkout
	discard = checkout --
	reset-origin = "!f() { git fetch origin && git reset --hard origin/$(git branch --show-current); }; f"

	# Commit-related
	amend = commit --amend --no-edit
	cm = commit
	fixup = commit --fixup
	uncommit = reset --soft HEAD^
	wip = commit -m "WIP" --no-verify

	# Log and history
	hist = log --pretty=format:'%C(yellow)%h%Creset %C(cyan)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --graph --all
	l = log --oneline --graph --decorate --all -n 20
	lg = log --oneline --decorate --all --graph

	# Push and pull
	pf = push --force-with-lease
	pr = "!f() { git fetch origin pull/$1/head:pr-$1 && git checkout pr-$1; }; f"
	ps = push --signed

	# Rebase and stash
	rb = rebase -i
	rbs = rebase -i --autosquash
	sh = stash --all
	unstage = reset HEAD --

	# Remotes
	radd = remote add
	rrm = remote remove

	# Status and diff
	bl = blame -w -C -C -C -L
	d = diff
	ds = diff --staged
	s = status

	# Submodules
	rmsub = "!f() { for sub in \"$@\"; do git submodule deinit -f \"$sub\" && git rm -f \"$sub\" && rm -rf .git/modules/\"$sub\"; done; }; f"

[branch]
	sort = -committerdate
	autoSetupMerge = simple    # Only track same-named remote branches

[column]
	ui = auto                  # Use columns when output is to terminal
	branch = auto              # Columnize branch list
	tag = auto                 # Columnize tag list

[commit]
	verbose = true             # Show diff in commit message editor
	cleanup = scissors         # Remove everything below scissor line

[core]
	autocrlf = input
	editor = code --wait
	pager = bat --paging=always
	untrackedCache = true

[diff]
	colorMoved = default
	mnemonicprefix = true
	tool = vscode-diff
	algorithm = histogram      # Better diff algorithm
	renames = copies           # Detect both renames and copies

[difftool "vscode-diff"]
	cmd = code --wait --diff $LOCAL $REMOTE

[feature]
	manyFiles = true   # Optimize for repos with many files

[fetch]
	showForcedUpdates = true

[filter "lfs"]
	clean = git-lfs clean -- %f
	process = git-lfs filter-process
	required = true
	smudge = git-lfs smudge -- %f

[grep]
	lineNumber = true          # Always show line numbers
	extendedRegexp = true      # Use extended regex by default

[init]
	defaultBranch = main

[log]
	abbrevCommit = true        # Use short commit hashes
	follow = true              # Follow file renames in git log
	decorate = auto            # Show refs in log output
	date = relative            # Use relative dates (2 days ago)
	showSignature = true       # Show GPG signature info

[maintenance]
	auto = true
	strategy = incremental

[merge]
	tool = vscode-merge

[mergetool "vscode-merge"]
	cmd = code --wait --merge $REMOTE $LOCAL $BASE $MERGED

[pull]
	rebase = true    # or 'false' for merge, but be explicit
	ff = only        # Only allow fast-forward merges

[push]
	default = current
	autoSetupRemote = true     # Automatically set up remote tracking
	followTags = true          # Push annotated tags with commits

[rebase]
	autoSquash = true          # Auto-arrange fixup/squash commits
	autoStash = true           # Auto-stash before rebase, pop after
	updateRefs = true          # Update dependent branches during rebase
	missingCommitsCheck = warn # Warn about removed commits in interactive rebase
	# strategyOption = theirs   # Use 'theirs' strategy option by default

[rerere]
	autoupdate = true
	enabled = true

[status]
	showStash = true           # Show stash count in status
	submoduleSummary = true    # Show submodule changes summary
	short = false              # Use detailed status by default
	branch = true              # Always show branch info

[submodule]
	recurse = true

[tag]
	sort = -version:refname    # Sort tags by version (v2.0 > v1.9)
	gpgSign = false            # Set to true if you GPG-sign tags

[transfer]
	fsckObjects = true

[url "git@github.com:"]
	insteadOf = gh:            # Use: git clone gh:user/repo

[user]
	email = f.galloway@gmail.com
	name = InSuperposition

[worktree]
	guessRemote = true